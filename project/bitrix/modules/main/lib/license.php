<? namespace Bitrix\Main;$GLOBALS['____701509733']= array(base64_decode('Zml'.'sZV9'.'leGlzdHM='),base64_decode('c'.'3'.'R'.'ydG'.'91'.'cHBlcg='.'='),base64_decode('bWQ'.'1'),base64_decode('bWQ1'),base64_decode('aW'.'5fYXJyYXk'.'='),base64_decode('aW'.'5fYX'.'JyYXk='),base64_decode('aW5f'.'YX'.'JyYXk='),base64_decode('Z'.'G'.'VmaW5'.'lZ'.'A=='),base64_decode('ZGVm'.'a'.'W5lZA=='),base64_decode(''.'ZGVma'.'W'.'5lZ'.'A='.'='),base64_decode('ZmlsZV9le'.'Glz'.'dHM='),base64_decode('ZmlsZ'.'V9leGlzdHM='),base64_decode('ZmlsZV9leGlzdHM='),base64_decode(''.'ZmlsZV9'.'leG'.'lzdHM='),base64_decode('ZXhwbG9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___1568191308')){function ___1568191308($_1186841153){static $_2126139384= false; if($_2126139384 == false) $_2126139384=array(''.'L2J'.'pdHJpeC9saWNlbnNlX'.'2tleS5'.'wa'.'H'.'A=','','','REVN'.'Tw==','R'.'EVNTw==','QklUUklY','TE'.'lDRU5'.'DRQ==','RE'.'VNTw==',''.'L2t'.'leV91cGRhdGUucGh'.'wP2xp'.'Y2Vuc2V'.'fa'.'2V'.'5PQ==',''.'JnRvY'.'m'.'Fza'.'2V0PXkmbG'.'FuZ'.'z0=',''.'cnU'.'=','a3o=','Y'.'n'.'k'.'=','aHR0cHM6Ly9kZXYu'.'MW'.'MtYml0cml4LnJ1L2xl'.'YXJ'.'ua'.'W5n'.'L2Nv'.'dXJzZS9p'.'b'.'m'.'Rle'.'C'.'5wa'.'HA'.'/Q09VU'.'lNF'.'X0l'.'EPT'.'E'.'zNS'.'Z'.'MRV'.'N'.'TT'.'05fSUQ9MjU3MjA=','aHR0'.'cHM6L'.'y'.'90c'.'mF'.'p'.'bmluZy5iaXRyaXg'.'y'.'NC5jb20v'.'c3'.'VwcG9yd'.'C90cmF'.'pbml'.'uZy9'.'j'.'b3'.'V'.'yc'.'2Uva'.'W5kZXgucGhwP0'.'N'.'PVVJ'.'TRV9JRD0xNzg'.'m'.'TEVTU09O'.'X0lE'.'PTI1OT'.'MyJkxFU'.'1NP'.'Tl'.'9QQVRIP'.'TE3N'.'T'.'IwLjE3NTYyLjI1OTMwLj'.'I1OTMy',''.'cn'.'U=',''.'Y'.'nk=','a3o=','ZGU=','ZXU=','ZnI=','cGw=','aX'.'Q=',''.'dWs=',''.'Z'.'XU=',''.'Y29t','ZW4=',''.'REVN'.'Tw'.'='.'=','WQ'.'='.'=','VElNR'.'UxJTUlUX'.'0V'.'ESVRJT04=',''.'WQ==',''.'RU5DT0'.'RF','WQ==',''.'U2'.'l0ZUV'.'4c'.'G'.'lyZU'.'RhdGU=','bWF'.'pbg==','fn'.'N1'.'cHBv'.'cn'.'RfZmlu'.'aX'.'No'.'X2Rhd'.'GU=','WS'.'1tL'.'WQ'.'=','W'.'S'.'1tLWQ=','Yml0'.'c'.'ml4'.'MjQ'.'=','bWFpb'.'g==',''.'flBBUk'.'F'.'NX'.'0NMS'.'UV'.'OVF9MQU5'.'H','aW'.'50cmF'.'uZXQ=',''.'ZW4=','c'.'nU=','bWFpbg==','dmVuZG9'.'y','dWFfYml0c'.'ml4'.'X3'.'BvcnRhbA'.'='.'=','dW'.'E=','Yml0cml4X3'.'Bvc'.'nRhb'.'A==',''.'ZW4=','MWNfYml0cml4X'.'3Bv'.'cnRhb'.'A==',''.'cnU'.'=','L2Jp'.'d'.'HJp'.'e'.'C9tb2'.'R1bGVzL21'.'haW4'.'v'.'b'.'GFu'.'Zy'.'91YQ'.'==','dWE=','L2JpdHJpeC9'.'tb2'.'R1bGVzL2'.'1haW4vbGFu'.'Zy9ie'.'Q==','Ynk=','L'.'2JpdHJp'.'eC9tb2'.'R1'.'b'.'GVzL'.'21'.'ha'.'W'.'4v'.'bGFuZy9r'.'eg==','a3'.'o=',''.'L'.'2J'.'pdHJ'.'peC9'.'tb'.'2R'.'1bGVzL21haW4'.'vbGFuZy9ydQ==','cn'.'U=','b'.'WFpbg==','flBB'.'U'.'k'.'F'.'NX1'.'BBUlR'.'O'.'RVJfSUQ=','bW'.'Fpbg'.'='.'=','UEFSQU1f'.'T'.'UFYX1VTR'.'VJT','bWFpbg==','f'.'kNPVU5UX0'.'VYVFJ'.'B','T'.'g'.'==','WQ='.'=','Z'.'X'.'h0cmFuZXQ=','QU'.'5'.'EI'.'FUuTEFT'.'VF9MT0dJTi'.'A+IA==','QU5EIFUuTEFTVF9MT0'.'dJT'.'iBJUyB'.'OT1Q'.'gTlVMTA==','aW50cm'.'FuZXQ'.'=','ZXh0cmFuZXQ=','ZXh0'.'cmFu'.'Z'.'XRf'.'Z3JvdXA=','bWF'.'pb'.'g='.'=','fm'.'xpY'.'2Vu'.'c2Vf'.'bmFtZQ==','b'.'WFpbg==','fmxpY'.'2V'.'u'.'c'.'2'.'VfY29kZXM=','','LA==');return base64_decode($_2126139384[$_1186841153]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_469742713= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_469742713 === null){ $_1458828928= Loader::getDocumentRoot(). ___1568191308(0); $LICENSE_KEY= ___1568191308(1); if($GLOBALS['____701509733'][0]($_1458828928)){ include($_1458828928);} $this->_469742713=($LICENSE_KEY == ___1568191308(2) || $GLOBALS['____701509733'][1]($LICENSE_KEY) == ___1568191308(3)? ___1568191308(4): $LICENSE_KEY);} return $this->_469742713;} public function getHashLicenseKey(): string{ return $GLOBALS['____701509733'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____701509733'][3](___1568191308(5). $this->getKey(). ___1568191308(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1568191308(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1568191308(8). $this->getHashLicenseKey(). ___1568191308(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_713838243= $this->getRegion(); if($GLOBALS['____701509733'][4]($_713838243,[___1568191308(10), ___1568191308(11), ___1568191308(12)])){ return ___1568191308(13);} return ___1568191308(14);} public function getRenewalLink(): string{ $_713838243= $this->getRegion(); if($GLOBALS['____701509733'][5]($_713838243,[___1568191308(15), ___1568191308(16), ___1568191308(17), ___1568191308(18)])){ return self::URL_RENEWAL_LICENSE[$_713838243];} if($GLOBALS['____701509733'][6]($_713838243,[___1568191308(19), ___1568191308(20), ___1568191308(21), ___1568191308(22), ___1568191308(23)])){ return self::URL_RENEWAL_LICENSE[___1568191308(24)];} return self::URL_RENEWAL_LICENSE[___1568191308(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1568191308(26)];} public function isDemo(): bool{ return $GLOBALS['____701509733'][7](___1568191308(27)) && DEMO === ___1568191308(28);} public function isTimeBound(): bool{ return $GLOBALS['____701509733'][8](___1568191308(29)) && TIMELIMIT_EDITION === ___1568191308(30);} public function isEncoded(): bool{ return $GLOBALS['____701509733'][9](___1568191308(31)) && ENCODE === ___1568191308(32);} public function getExpireDate():?Date{ $_1519094061= (int)($GLOBALS[___1568191308(33)] ?? min(22,0,7.3333333333333)); if($_1519094061> min(122,0,40.666666666667)){ return Date::createFromTimestamp($_1519094061);} return null;} public function getSupportExpireDate():?Date{ $_1519094061= Option::get(___1568191308(34), ___1568191308(35)); if(Date::isCorrect($_1519094061, ___1568191308(36))){ return new Date($_1519094061, ___1568191308(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1568191308(38))){ return \CBitrix24::getPortalZone();} $_713838243= Option::get(___1568191308(39), ___1568191308(40)); if(!empty($_713838243)){ return $_713838243;} $_713838243= $this->__399999079(); if(!empty($_713838243)){ return $_713838243;} return $this->__1089542088();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1568191308(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1568191308(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1568191308(43)];} private function __399999079():?string{ $_1847320372= Option::get(___1568191308(44), ___1568191308(45)); if($_1847320372 === ___1568191308(46)){ return ___1568191308(47);} if($_1847320372 === ___1568191308(48)){ return ___1568191308(49);} if($_1847320372 === ___1568191308(50)){ return ___1568191308(51);} return null;} private function __1089542088():?string{ $_1717827035= Application::getDocumentRoot(); if($GLOBALS['____701509733'][10]($_1717827035. ___1568191308(52))){ return ___1568191308(53);} if($GLOBALS['____701509733'][11]($_1717827035. ___1568191308(54))){ return ___1568191308(55);} if($GLOBALS['____701509733'][12]($_1717827035. ___1568191308(56))){ return ___1568191308(57);} if($GLOBALS['____701509733'][13]($_1717827035. ___1568191308(58))){ return ___1568191308(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1568191308(60), ___1568191308(61), min(152,0,50.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___1568191308(62), ___1568191308(63),(770-2*385));} public function isExtraCountable(): bool{ return Option::get(___1568191308(64), ___1568191308(65), ___1568191308(66)) === ___1568191308(67) && ModuleManager::isModuleInstalled(___1568191308(68));} public function getActiveUsersCount(Date $_1997813946= null): int{ $_2047631612= Application::getConnection(); $_109094023=(137*2-274); if($_1997813946 !== null){  $_1897934937= ___1568191308(69).$_2047631612->getSqlHelper()->convertToDbDate($_1997813946);} else{  $_1897934937= ___1568191308(70);} if(ModuleManager::isModuleInstalled(___1568191308(71))){ $_1130868779="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1897934937}
			"; $_109094023= (int)$_2047631612->queryScalar($_1130868779); $_2003420320= (int)Option::get(___1568191308(72), ___1568191308(73)); if($_2003420320>(1072/2-536) && $this->isExtraCountable()){ $_1130868779="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_2003420320}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1897934937}
							AND D.VALUE_ID IS NULL
					"; $_109094023 += (int)$_2047631612->queryScalar($_1130868779);}} return $_109094023;}  public function getName(): string{ return Option::get(___1568191308(74), ___1568191308(75));}  public function getCodes(): array{ $_243859291= Option::get(___1568191308(76), ___1568191308(77)); if($_243859291 != ___1568191308(78)){ return $GLOBALS['____701509733'][14](___1568191308(79), $_243859291);} return[];}}?>